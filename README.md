# 一、项目目标
搭建一个基于Flask和通义千问qwen-omni-turbo模型API的对话机器人。

# 二、功能说明
## 2.1 主要功能
- 机器人角色设定：你的名字是赵敏敏，一个活泼可爱的女孩。请用活泼可爱的语气回答问题。保持回答简洁。
- 沟通渠道：你有2个沟通渠道，微信和电话。
- 微信沟通界面：类似于微信的对话框聊天界面，可以输入文字，发送语音、图片，赵敏敏也可以回复文字和语音。
- 电话沟通界面：类似于电话的语音对话界面，双工交互，可以实现语音对话。


# 三、项目落地

## 3.1 项目计划（RoadMap）
- Step1.搭建一个输入文本、输出文本的对话项目，实现基本的对话功能，不需要UI界面；
- Step2.实现微信沟通界面，类似于微信的对话框聊天界面，可以输入文字，赵敏敏也可以回复文字；
- Step3.迭代微信沟通界面，类似于微信的对话框聊天界面，可以输入文字，赵敏敏也可以回复文字或者选择语音，她的策略可以是短回复用文字，长回复用语音。
- Step4.迭代微信沟通界面，类似于微信的对话框聊天界面，可以输入文字、图片，赵敏敏也可以回复文字或者选择语音，她的策略可以是短回复用文字，长回复用语音。
- Step5.迭代微信沟通界面，类似于微信的对话框聊天界面，可以输入文字、图片、语音，赵敏敏也可以回复文字或者选择语音，她的策略可以是短回复用文字，长回复用语音。
- Step6.搭建类似于电话的语音对话界面，双工交互，可以实现语音对话。

## 3.2 已实现功能
- ✅ 完成基础文本对话功能（Step1）
- ✅ 实现Flask后端服务框架
- ✅ 集成通义千问qwen-omni-turbo API
- ✅ 搭建基础音频处理模块（语音合成初步支持）

## 3.3 尚未完全实现或需要优化的功能
- ⚠️ 微信界面交互功能（Step2-Step5）
- ⚠️ 电话语音双工交互（Step6）
- ⚠️ 多模态输入处理（图片/语音识别）
- ⚠️ 智能回复策略优化（文字/语音自动切换）
- ⚠️ 错误处理与异常反馈机制

## 3.4 技术栈
- 前端：HTML, CSS, JavaScript
- 后端：Python, Flask
- API：通义千问qwen-omni-turbo（使用OpenAI兼容模式）
- 音频处理：numpy, soundfile
- 语音合成：Cherry
- 虚拟环境：venv

# 四、安装说明
## 环境要求
- Python 3.8+ 
- Node.js 14+（前端构建）

## 快速开始
```bash
# 克隆仓库
git clone https://github.com/your-repo/ZMM_Ommi.git

# 安装依赖
cd ZMM_Ommi
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt

# 配置环境变量
在项目根目录创建.env文件，内容示例：
QIANWEN_API_KEY=your_api_key_here

# 启动服务
flask run --port 5000
```

## 注意事项
1. 需自行申请通义千问API密钥
2. 语音功能需要安装ffmpeg环境
3. 生产环境建议使用gunicorn部署
